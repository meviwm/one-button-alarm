<!--
  Generated template for the ChatPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>
            聊天记录
        </ion-title>
    </ion-navbar>

</ion-header>
<ion-content>
    <div class="message-wrap">
        <div *ngIf="hasMsgList" style="text-align: center;padding: 20px;">没有聊天记录</div>
        <div *ngFor="let msg of msgList" class="message" [class.left]=" msg.userImAccount === toUser.imAccount " [class.right]=" msg.userImAccount === user.imAccount ">
            <img class="user-img" [src]="msg.userAvatar" alt="" src="">
            <div class="msg-detail">
                <!-- <div class="msg-info">
            <p>
              {{msg.userName}}&nbsp;&nbsp;&nbsp;{{msg.time | relativeTime}}</p>
          </div> -->
                <div class="msg-content" [ngSwitch]="msg.type">
                    <span class="triangle"></span>
                    <p *ngSwitchCase="3" class="line-breaker ">{{msg.message}}</p>
                    <!-- <p *ngSwitchCase="4" class="line-breaker font-italic" (click)="playAudio(msg.message, msg.messageId)"> -->

                    <p *ngSwitchCase="4" class="line-breaker font-italic" (click)="playAudio(msg.message, msg.messageId)">
                        <img *ngIf="msg.userImAccount === toUser.imAccount" [src]="this.voiceImgUrl['left' + msg.src]" alt="">
                        <img *ngIf="msg.userImAccount === user.imAccount" [src]="this.voiceImgUrl['right' + msg.src]" alt="">
                    </p>
                    <p *ngSwitchCase="7" class="line-breaker font-italic" (click)="openFile(msg.message, msg.messageId)">[视频]</p>
                    <div *ngSwitchCase="8" class="font-italic">
                        <img style="width: 30vw" [src]="imgUrl + msg.message" alt="" />
                    </div>
                    <div *ngSwitchCase="10" (click)="openFile(msg.message, msg.messageId)">
                        <ion-icon name="document"></ion-icon>点击下载并查看</div>
                </div>
            </div>
        </div>
    </div>
</ion-content>